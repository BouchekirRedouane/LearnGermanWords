<!DOCTYPE html>
<html lang="de" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Deutsch Artikel Lernen - ÿ™ÿπŸÑŸÖ ÿ£ÿØŸàÿßÿ™ ÿßŸÑÿ™ÿπÿ±ŸäŸÅ ÿßŸÑÿ£ŸÑŸÖÿßŸÜŸäÿ©</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        body {
            min-height: 100vh;
            min-height: 100dvh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #ffffff;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }

        .container {
            background: #ffffff;
            width: 100%;
            max-width: 600px;
            height: 100%;
            max-height: 100vh;
            max-height: 100dvh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* Header */
        .header {
            background: #fff;
            padding: 12px 16px;
            border-bottom: 2px solid #e5e5e5;
            flex-shrink: 0;
            position: relative;
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            font-size: 18px;
            font-weight: 700;
            background: linear-gradient(135deg, #1cb0f6 0%, #58cc02 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stats-icon {
            width: 36px;
            height: 36px;
            background: #58cc02;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 18px;
            cursor: pointer;
            transition: transform 0.2s;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
        }

        .stats-icon:active {
            transform: scale(0.9);
        }

        /* Progress Bar */
        .progress-bar-container {
            width: 100%;
            height: 16px;
            background: #e5e5e5;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 12px;
        }

        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #58cc02 0%, #78d916 100%);
            border-radius: 10px;
            transition: width 0.5s ease;
            width: 0%;
        }

        /* Score Pills */
        .score-pills {
            display: flex;
            gap: 8px;
            margin-top: 8px;
        }

        .score-pill {
            flex: 1;
            padding: 8px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
        }

        .score-pill.correct {
            background: #d7ffb8;
            color: #58a700;
        }

        .score-pill.incorrect {
            background: #ffdfe0;
            color: #ea2b2b;
        }

        .score-pill.total {
            background: #ddf4ff;
            color: #1cb0f6;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            overflow-y: auto;
            overflow-x: hidden;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }

        /* Question Card */
        .question-card {
            background: #fff;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            gap: 24px;
        }

        .question-text {
            text-align: center;
            font-size: 48px;
            font-weight: 700;
            color: #3c3c3c;
            direction: rtl;
            animation: slideIn 0.4s ease;
            line-height: 1.2;
        }

        .question-prompt {
            text-align: center;
            font-size: 16px;
            color: #777;
            margin-bottom: -8px;
        }

        /* Article Buttons */
        .article-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }

        .article-btn {
            padding: 18px;
            border: 3px solid #e5e5e5;
            background: white;
            border-radius: 16px;
            font-size: 20px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.15s ease;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            color: #3c3c3c;
            position: relative;
        }

        .article-btn:hover {
            background: #f7f7f7;
            border-color: #d0d0d0;
        }

        .article-btn:active {
            transform: scale(0.95);
        }

        .article-btn.selected {
            border-color: #1cb0f6;
            background: #ddf4ff;
            color: #1cb0f6;
        }

        .article-btn.correct {
            border-color: #58cc02;
            background: #d7ffb8;
            color: #58a700;
            animation: correctPulse 0.6s ease;
        }

        .article-btn.incorrect {
            border-color: #ea2b2b;
            background: #ffdfe0;
            color: #ea2b2b;
            animation: shake 0.5s ease;
        }

        /* Input Field */
        .word-input-container {
            position: relative;
        }

        .word-input {
            width: 100%;
            padding: 18px 20px;
            border: 3px solid #e5e5e5;
            border-radius: 16px;
            font-size: 18px;
            font-weight: 600;
            transition: all 0.2s ease;
            background: white;
            color: #3c3c3c;
        }

        .word-input:focus {
            outline: none;
            border-color: #1cb0f6;
            background: #ddf4ff;
        }

        .word-input.correct {
            border-color: #58cc02;
            background: #d7ffb8;
        }

        .word-input.incorrect {
            border-color: #ea2b2b;
            background: #ffdfe0;
        }

        .word-input::placeholder {
            color: #afafaf;
            font-weight: 400;
        }

        /* Bottom Section */
        .bottom-section {
            background: white;
            padding: 16px 20px;
            border-top: 2px solid #e5e5e5;
            flex-shrink: 0;
        }

        /* Check Button */
        .check-btn {
            width: 100%;
            padding: 18px;
            background: #58cc02;
            color: white;
            border: none;
            border-radius: 16px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.15s ease;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 0 #46a302;
        }

        .check-btn:hover {
            background: #5cd604;
            box-shadow: 0 4px 0 #46a302;
        }

        .check-btn:active {
            transform: translateY(3px);
            box-shadow: 0 1px 0 #46a302;
        }

        .check-btn:disabled {
            background: #e5e5e5;
            color: #afafaf;
            cursor: not-allowed;
            box-shadow: none;
        }

        .check-btn:disabled:active {
            transform: none;
        }

        /* Feedback Section */
        .feedback-section {
            background: white;
            padding: 20px;
            border-top: 2px solid #e5e5e5;
            flex-shrink: 0;
            display: none;
        }

        .feedback-section.show {
            display: block;
            animation: slideUp 0.3s ease;
        }

        .feedback-section.correct {
            background: #d7ffb8;
            border-top-color: #58cc02;
        }

        .feedback-section.incorrect {
            background: #ffdfe0;
            border-top-color: #ea2b2b;
        }

        .feedback-content {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
        }

        .feedback-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            flex-shrink: 0;
        }

        .feedback-icon.correct {
            background: #58cc02;
            color: white;
        }

        .feedback-icon.incorrect {
            background: #ea2b2b;
            color: white;
        }

        .feedback-text {
            flex: 1;
        }

        .feedback-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .feedback-title.correct {
            color: #58a700;
        }

        .feedback-title.incorrect {
            color: #ea2b2b;
        }

        .feedback-detail {
            font-size: 16px;
            color: #3c3c3c;
            font-weight: 600;
        }

        .continue-btn {
            width: 100%;
            padding: 18px;
            background: white;
            color: #1cb0f6;
            border: 3px solid #1cb0f6;
            border-radius: 16px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.15s ease;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            text-transform: uppercase;
        }

        .continue-btn:active {
            transform: scale(0.98);
        }

        /* Statistics Page */
        .page {
            display: none;
            flex-direction: column;
            height: 100%;
            overflow: hidden;
        }

        .page.active {
            display: flex;
        }

        .stats-header {
            background: #fff;
            padding: 16px;
            border-bottom: 2px solid #e5e5e5;
            display: flex;
            align-items: center;
            gap: 16px;
            flex-shrink: 0;
        }

        .back-btn {
            width: 36px;
            height: 36px;
            background: #e5e5e5;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border: none;
            font-size: 20px;
            color: #3c3c3c;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
        }

        .back-btn:active {
            transform: scale(0.9);
        }

        .stats-title {
            font-size: 20px;
            font-weight: 700;
            color: #3c3c3c;
            flex: 1;
        }

        .stats-body {
            flex: 1;
            overflow-y: auto;
            overflow-x: hidden;
            padding: 16px;
        }

        .stats-summary {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: white;
            border-radius: 16px;
            padding: 16px;
            text-align: center;
            border: 2px solid #e5e5e5;
        }

        .stat-card.correct {
            border-color: #58cc02;
            background: #d7ffb8;
        }

        .stat-card.incorrect {
            border-color: #ea2b2b;
            background: #ffdfe0;
        }

        .stat-card.total {
            border-color: #1cb0f6;
            background: #ddf4ff;
        }

        .stat-number {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .stat-number.correct {
            color: #58a700;
        }

        .stat-number.incorrect {
            color: #ea2b2b;
        }

        .stat-number.total {
            color: #1cb0f6;
        }

        .stat-label {
            font-size: 12px;
            color: #777;
            font-weight: 600;
        }

        .answers-section {
            margin-bottom: 20px;
        }

        .answers-header {
            padding: 12px 16px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 16px;
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .answers-header.correct {
            background: #58cc02;
            color: white;
        }

        .answers-header.incorrect {
            background: #ea2b2b;
            color: white;
        }

        .answer-item {
            background: white;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 8px;
            border: 2px solid #e5e5e5;
        }

        .answer-item.correct {
            border-color: #58cc02;
            background: #f7fff0;
        }

        .answer-item.incorrect {
            border-color: #ea2b2b;
            background: #fff5f5;
        }

        .answer-word {
            font-size: 18px;
            font-weight: 700;
            color: #3c3c3c;
            margin-bottom: 4px;
        }

        .answer-translation {
            font-size: 14px;
            color: #777;
            direction: rtl;
            margin-bottom: 8px;
        }

        .answer-detail {
            font-size: 13px;
            color: #3c3c3c;
            padding: 8px;
            background: #f7f7f7;
            border-radius: 8px;
            margin-top: 8px;
        }

        .answer-detail.error {
            background: #ffdfe0;
            color: #ea2b2b;
            font-weight: 600;
        }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #afafaf;
        }

        .empty-icon {
            font-size: 48px;
            margin-bottom: 12px;
        }

        .empty-text {
            font-size: 16px;
            font-weight: 600;
        }

        /* Action Buttons in Stats */
        .stats-actions {
            padding: 16px;
            border-top: 2px solid #e5e5e5;
            background: white;
            flex-shrink: 0;
        }

        .restart-btn {
            width: 100%;
            padding: 18px;
            background: #ff4b4b;
            color: white;
            border: none;
            border-radius: 16px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.15s ease;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            text-transform: uppercase;
            box-shadow: 0 4px 0 #d63636;
        }

        .restart-btn:active {
            transform: translateY(3px);
            box-shadow: 0 1px 0 #d63636;
        }

        /* Animations */
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
            20%, 40%, 60%, 80% { transform: translateX(8px); }
        }

        @keyframes correctPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Responsive */
        @media (max-height: 600px) {
            .question-text {
                font-size: 36px;
            }
            
            .main-content {
                padding: 16px;
            }
            
            .question-card {
                gap: 16px;
            }
            
            .article-btn {
                padding: 14px;
                font-size: 18px;
            }
            
            .word-input {
                padding: 14px 16px;
                font-size: 16px;
            }
        }

        @media (max-height: 500px) and (orientation: landscape) {
            .header {
                padding: 8px 16px;
            }
            
            .progress-bar-container {
                height: 12px;
                margin-top: 8px;
            }
            
            .score-pills {
                margin-top: 6px;
            }
            
            .score-pill {
                padding: 6px;
                font-size: 12px;
            }
            
            .main-content {
                padding: 12px;
            }
            
            .question-text {
                font-size: 28px;
            }
            
            .question-card {
                gap: 12px;
            }
            
            .article-buttons {
                gap: 8px;
            }
            
            .article-btn {
                padding: 12px;
                font-size: 16px;
            }
            
            .word-input {
                padding: 12px;
                font-size: 15px;
            }
            
            .bottom-section {
                padding: 12px 16px;
            }
            
            .check-btn {
                padding: 14px;
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- QUIZ PAGE -->
        <div class="page active" id="quiz-page">
            <!-- Header -->
            <div class="header">
                <div class="header-content">
                    <div class="logo">Deutsch Mit Radouane</div>
                    <div class="stats-icon" id="stats-btn">üìä</div>
                </div>
                <div class="progress-bar-container">
                    <div class="progress-bar-fill" id="progress-bar"></div>
                </div>
                <div class="score-pills">
                    <div class="score-pill correct">
                        ‚úì <span id="correct-score">0</span>
                    </div>
                    <div class="score-pill incorrect">
                        ‚úó <span id="incorrect-score">0</span>
                    </div>
                    <div class="score-pill total">
                        ‚àë <span id="total-score">0</span>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="main-content">
                <div class="question-card">
                    <div class="question-prompt">ÿßÿÆÿ™ÿ± ÿßŸÑÿ£ÿØÿßÿ© Ÿà ÿßŸÉÿ™ÿ® ÿßŸÑŸÉŸÑŸÖÿ©</div>
                    <div class="question-text" id="question-text"></div>
                    
                    <div class="article-buttons">
                        <button class="article-btn" data-article="der">der</button>
                        <button class="article-btn" data-article="die">die</button>
                        <button class="article-btn" data-article="das">das</button>
                    </div>

                    <div class="word-input-container">
                        <input 
                            type="text" 
                            class="word-input" 
                            id="word-input" 
                            placeholder="Schreiben Sie hier..."
                            autocomplete="off"
                            autocorrect="off"
                            autocapitalize="off"
                            spellcheck="false"
                        >
                    </div>
                </div>
            </div>

            <!-- Bottom Section -->
            <div class="bottom-section" id="check-section">
                <button class="check-btn" id="check-btn" disabled>Pr√ºfen</button>
            </div>

            <!-- Feedback Section -->
            <div class="feedback-section" id="feedback-section">
                <div class="feedback-content">
                    <div class="feedback-icon" id="feedback-icon"></div>
                    <div class="feedback-text">
                        <div class="feedback-title" id="feedback-title"></div>
                        <div class="feedback-detail" id="feedback-detail"></div>
                    </div>
                </div>
                <button class="continue-btn" id="continue-btn">Weiter</button>
            </div>
        </div>

        <!-- STATISTICS PAGE -->
        <div class="page" id="stats-page">
            <div class="stats-header">
                <button class="back-btn" id="back-btn">‚Üê</button>
                <div class="stats-title">Deine Statistik</div>
            </div>

            <div class="stats-body">
                <!-- Summary Cards -->
                <div class="stats-summary">
                    <div class="stat-card correct">
                        <div class="stat-number correct" id="stats-correct">0</div>
                        <div class="stat-label">Richtig</div>
                    </div>
                    <div class="stat-card incorrect">
                        <div class="stat-number incorrect" id="stats-incorrect">0</div>
                        <div class="stat-label">Falsch</div>
                    </div>
                    <div class="stat-card total">
                        <div class="stat-number total" id="stats-total">0</div>
                        <div class="stat-label">Gesamt</div>
                    </div>
                </div>

                <!-- Correct Answers -->
                <div class="answers-section">
                    <div class="answers-header correct">
                        <span>‚úì Richtige Antworten</span>
                        <span id="correct-count">0</span>
                    </div>
                    <div id="correct-list"></div>
                </div>

                <!-- Incorrect Answers -->
                <div class="answers-section">
                    <div class="answers-header incorrect">
                        <span>‚úó Falsche Antworten</span>
                        <span id="incorrect-count">0</span>
                    </div>
                    <div id="incorrect-list"></div>
                </div>
            </div>

            <div class="stats-actions">
                <button class="restart-btn" id="restart-btn">Neu Starten</button>
            </div>
        </div>
    </div>

    <script>
        const vocabulary = [
            { german: "der Mann", arabic: "ÿßŸÑÿ±ÿ¨ŸÑ", article: "der", word: "Mann" },
            { german: "die Frau", arabic: "ÿßŸÑŸÖÿ±ÿ£ÿ©", article: "die", word: "Frau" },
            { german: "das Kind", arabic: "ÿßŸÑÿ∑ŸÅŸÑ", article: "das", word: "Kind" },
            { german: "der Mensch", arabic: "ÿßŸÑÿ•ŸÜÿ≥ÿßŸÜ", article: "der", word: "Mensch" },
            { german: "der Freund", arabic: "ÿßŸÑÿµÿØŸäŸÇ", article: "der", word: "Freund" },
            { german: "die Freundin", arabic: "ÿßŸÑÿµÿØŸäŸÇÿ©", article: "die", word: "Freundin" },
            { german: "die Familie", arabic: "ÿßŸÑÿπÿßÿ¶ŸÑÿ©", article: "die", word: "Familie" },
            { german: "der Name", arabic: "ÿßŸÑÿßÿ≥ŸÖ", article: "der", word: "Name" },
            { german: "das Land", arabic: "ÿßŸÑÿ®ŸÑÿØ", article: "das", word: "Land" },
            { german: "die Stadt", arabic: "ÿßŸÑŸÖÿØŸäŸÜÿ©", article: "die", word: "Stadt" },
            { german: "das Haus", arabic: "ÿßŸÑÿ®Ÿäÿ™", article: "das", word: "Haus" },
            { german: "die Wohnung", arabic: "ÿßŸÑÿ¥ŸÇÿ©", article: "die", word: "Wohnung" },
            { german: "das Zimmer", arabic: "ÿßŸÑÿ∫ÿ±ŸÅÿ©", article: "das", word: "Zimmer" },
            { german: "die T√ºr", arabic: "ÿßŸÑÿ®ÿßÿ®", article: "die", word: "T√ºr" },
            { german: "das Fenster", arabic: "ÿßŸÑŸÜÿßŸÅÿ∞ÿ©", article: "das", word: "Fenster" },
            { german: "der Tisch", arabic: "ÿßŸÑÿ∑ÿßŸàŸÑÿ©", article: "der", word: "Tisch" },
            { german: "der Stuhl", arabic: "ÿßŸÑŸÉÿ±ÿ≥Ÿä", article: "der", word: "Stuhl" },
            { german: "das Bett", arabic: "ÿßŸÑÿ≥ÿ±Ÿäÿ±", article: "das", word: "Bett" },
            { german: "der Schl√ºssel", arabic: "ÿßŸÑŸÖŸÅÿ™ÿßÿ≠", article: "der", word: "Schl√ºssel" },
            { german: "das Bad", arabic: "ÿßŸÑÿ≠ŸÖŸëÿßŸÖ", article: "das", word: "Bad" },
            { german: "die K√ºche", arabic: "ÿßŸÑŸÖÿ∑ÿ®ÿÆ", article: "die", word: "K√ºche" },
            { german: "das Auto", arabic: "ÿßŸÑÿ≥Ÿäÿßÿ±ÿ©", article: "das", word: "Auto" },
            { german: "der Bus", arabic: "ÿßŸÑÿ≠ÿßŸÅŸÑÿ©", article: "der", word: "Bus" },
            { german: "der Zug", arabic: "ÿßŸÑŸÇÿ∑ÿßÿ±", article: "der", word: "Zug" },
            { german: "der Bahnhof", arabic: "ŸÖÿ≠ÿ∑ÿ© ÿßŸÑŸÇÿ∑ÿßÿ±", article: "der", word: "Bahnhof" },
            { german: "der Flughafen", arabic: "ÿßŸÑŸÖÿ∑ÿßÿ±", article: "der", word: "Flughafen" },
            { german: "die Stra√üe", arabic: "ÿßŸÑÿ¥ÿßÿ±ÿπ", article: "die", word: "Stra√üe" },
            { german: "der Weg", arabic: "ÿßŸÑÿ∑ÿ±ŸäŸÇ", article: "der", word: "Weg" },
            { german: "der Platz", arabic: "ÿßŸÑÿ≥ÿßÿ≠ÿ©", article: "der", word: "Platz" },
            { german: "die Ecke", arabic: "ÿßŸÑÿ≤ÿßŸàŸäÿ©", article: "die", word: "Ecke" },
            { german: "die Arbeit", arabic: "ÿßŸÑÿπŸÖŸÑ", article: "die", word: "Arbeit" },
            { german: "der Job", arabic: "ÿßŸÑŸàÿ∏ŸäŸÅÿ©", article: "der", word: "Job" },
            { german: "das B√ºro", arabic: "ÿßŸÑŸÖŸÉÿ™ÿ®", article: "das", word: "B√ºro" },
            { german: "der Chef", arabic: "ÿßŸÑŸÖÿØŸäÿ±", article: "der", word: "Chef" },
            { german: "der Kollege", arabic: "ÿßŸÑÿ≤ŸÖŸäŸÑ", article: "der", word: "Kollege" },
            { german: "die Firma", arabic: "ÿßŸÑÿ¥ÿ±ŸÉÿ©", article: "die", word: "Firma" },
            { german: "das Geld", arabic: "ÿßŸÑŸÖÿßŸÑ", article: "das", word: "Geld" },
            { german: "der Preis", arabic: "ÿßŸÑÿ≥ÿπÿ±", article: "der", word: "Preis" },
            { german: "die Rechnung", arabic: "ÿßŸÑŸÅÿßÿ™Ÿàÿ±ÿ©", article: "die", word: "Rechnung" },
            { german: "der Vertrag", arabic: "ÿßŸÑÿπŸÇÿØ", article: "der", word: "Vertrag" },
            { german: "die Zeit", arabic: "ÿßŸÑŸàŸÇÿ™", article: "die", word: "Zeit" },
            { german: "der Tag", arabic: "ÿßŸÑŸäŸàŸÖ", article: "der", word: "Tag" },
            { german: "die Woche", arabic: "ÿßŸÑÿ£ÿ≥ÿ®Ÿàÿπ", article: "die", word: "Woche" },
            { german: "das Jahr", arabic: "ÿßŸÑÿ≥ŸÜÿ©", article: "das", word: "Jahr" },
            { german: "der Morgen", arabic: "ÿßŸÑÿµÿ®ÿßÿ≠", article: "der", word: "Morgen" },
            { german: "der Abend", arabic: "ÿßŸÑŸÖÿ≥ÿßÿ°", article: "der", word: "Abend" },
            { german: "die Nacht", arabic: "ÿßŸÑŸÑŸäŸÑ", article: "die", word: "Nacht" },
            { german: "das Wochenende", arabic: "ÿπÿ∑ŸÑÿ© ŸÜŸáÿßŸäÿ© ÿßŸÑÿ£ÿ≥ÿ®Ÿàÿπ", article: "das", word: "Wochenende" },
            { german: "der Moment", arabic: "ÿßŸÑŸÑÿ≠ÿ∏ÿ©", article: "der", word: "Moment" },
            { german: "der Termin", arabic: "ÿßŸÑŸÖŸàÿπÿØ", article: "der", word: "Termin" },
            { german: "das Essen", arabic: "ÿßŸÑÿ∑ÿπÿßŸÖ", article: "das", word: "Essen" },
            { german: "das Getr√§nk", arabic: "ÿßŸÑÿ¥ÿ±ÿßÿ®", article: "das", word: "Getr√§nk" },
            { german: "das Wasser", arabic: "ÿßŸÑŸÖÿßÿ°", article: "das", word: "Wasser" },
            { german: "das Brot", arabic: "ÿßŸÑÿÆÿ®ÿ≤", article: "das", word: "Brot" },
            { german: "der Reis", arabic: "ÿßŸÑÿ£ÿ±ÿ≤", article: "der", word: "Reis" },
            { german: "das Fleisch", arabic: "ÿßŸÑŸÑÿ≠ŸÖ", article: "das", word: "Fleisch" },
            { german: "das Gem√ºse", arabic: "ÿßŸÑÿÆÿ∂ÿßÿ±", article: "das", word: "Gem√ºse" },
            { german: "das Obst", arabic: "ÿßŸÑŸÅÿßŸÉŸáÿ©", article: "das", word: "Obst" },
            { german: "der Kaffee", arabic: "ÿßŸÑŸÇŸáŸàÿ©", article: "der", word: "Kaffee" },
            { german: "der Tee", arabic: "ÿßŸÑÿ¥ÿßŸä", article: "der", word: "Tee" },
            { german: "der Supermarkt", arabic: "ÿßŸÑÿ≥Ÿàÿ®ÿ±ŸÖÿßÿ±ŸÉÿ™", article: "der", word: "Supermarkt" },
            { german: "das Gesch√§ft", arabic: "ÿßŸÑŸÖÿ™ÿ¨ÿ±", article: "das", word: "Gesch√§ft" },
            { german: "der Markt", arabic: "ÿßŸÑÿ≥ŸàŸÇ", article: "der", word: "Markt" },
            { german: "die Kasse", arabic: "ÿßŸÑÿµŸÜÿØŸàŸÇ", article: "die", word: "Kasse" },
            { german: "der Bon", arabic: "ÿßŸÑÿ•ŸäÿµÿßŸÑ", article: "der", word: "Bon" },
            { german: "die T√ºte", arabic: "ÿßŸÑŸÉŸäÿ≥", article: "die", word: "T√ºte" },
            { german: "das Angebot", arabic: "ÿßŸÑÿπÿ±ÿ∂", article: "das", word: "Angebot" },
            { german: "die Gr√∂√üe", arabic: "ÿßŸÑŸÖŸÇÿßÿ≥", article: "die", word: "Gr√∂√üe" },
            { german: "die Farbe", arabic: "ÿßŸÑŸÑŸàŸÜ", article: "die", word: "Farbe" },
            { german: "das Produkt", arabic: "ÿßŸÑŸÖŸÜÿ™ÿ¨", article: "das", word: "Produkt" },
            { german: "der Arzt", arabic: "ÿßŸÑÿ∑ÿ®Ÿäÿ®", article: "der", word: "Arzt" },
            { german: "das Krankenhaus", arabic: "ÿßŸÑŸÖÿ≥ÿ™ÿ¥ŸÅŸâ", article: "das", word: "Krankenhaus" },
            { german: "die Apotheke", arabic: "ÿßŸÑÿµŸäÿØŸÑŸäÿ©", article: "die", word: "Apotheke" },
            { german: "das Medikament", arabic: "ÿßŸÑÿØŸàÿßÿ°", article: "das", word: "Medikament" },
            { german: "der Schmerz", arabic: "ÿßŸÑÿ£ŸÑŸÖ", article: "der", word: "Schmerz" },
            { german: "die Krankheit", arabic: "ÿßŸÑŸÖÿ±ÿ∂", article: "die", word: "Krankheit" },
            { german: "die Hilfe", arabic: "ÿßŸÑŸÖÿ≥ÿßÿπÿØÿ©", article: "die", word: "Hilfe" },
            { german: "die Versicherung", arabic: "ÿßŸÑÿ™ÿ£ŸÖŸäŸÜ", article: "die", word: "Versicherung" },
            { german: "die Praxis", arabic: "ÿßŸÑÿπŸäÿßÿØÿ©", article: "die", word: "Praxis" },
            { german: "der Notfall", arabic: "ÿ≠ÿßŸÑÿ© ÿ∑Ÿàÿßÿ±ÿ¶", article: "der", word: "Notfall" },
            { german: "die Schule", arabic: "ÿßŸÑŸÖÿØÿ±ÿ≥ÿ©", article: "die", word: "Schule" },
            { german: "die Universit√§t", arabic: "ÿßŸÑÿ¨ÿßŸÖÿπÿ©", article: "die", word: "Universit√§t" },
            { german: "der Kurs", arabic: "ÿßŸÑÿØŸàÿ±ÿ©", article: "der", word: "Kurs" },
            { german: "der Lehrer", arabic: "ÿßŸÑŸÖÿπŸÑŸëŸÖ", article: "der", word: "Lehrer" },
            { german: "der Sch√ºler", arabic: "ÿßŸÑÿ∑ÿßŸÑÿ®", article: "der", word: "Sch√ºler" },
            { german: "die Sprache", arabic: "ÿßŸÑŸÑÿ∫ÿ©", article: "die", word: "Sprache" },
            { german: "das Deutsch", arabic: "ÿßŸÑŸÑÿ∫ÿ© ÿßŸÑÿ£ŸÑŸÖÿßŸÜŸäÿ©", article: "das", word: "Deutsch" },
            { german: "das Wort", arabic: "ÿßŸÑŸÉŸÑŸÖÿ©", article: "das", word: "Wort" },
            { german: "der Satz", arabic: "ÿßŸÑÿ¨ŸÖŸÑÿ©", article: "der", word: "Satz" },
            { german: "die Bedeutung", arabic: "ÿßŸÑŸÖÿπŸÜŸâ", article: "die", word: "Bedeutung" },
            { german: "die Frage", arabic: "ÿßŸÑÿ≥ÿ§ÿßŸÑ", article: "die", word: "Frage" },
            { german: "die Antwort", arabic: "ÿßŸÑÿ¨Ÿàÿßÿ®", article: "die", word: "Antwort" },
            { german: "das Beispiel", arabic: "ÿßŸÑŸÖÿ´ÿßŸÑ", article: "das", word: "Beispiel" },
            { german: "die Regel", arabic: "ÿßŸÑŸÇÿßÿπÿØÿ©", article: "die", word: "Regel" },
            { german: "die Erkl√§rung", arabic: "ÿßŸÑÿ¥ÿ±ÿ≠", article: "die", word: "Erkl√§rung" },
            { german: "die Information", arabic: "ÿßŸÑŸÖÿπŸÑŸàŸÖÿ©", article: "die", word: "Information" },
            { german: "das Problem", arabic: "ÿßŸÑŸÖÿ¥ŸÉŸÑÿ©", article: "das", word: "Problem" },
            { german: "die L√∂sung", arabic: "ÿßŸÑÿ≠ŸÑ", article: "die", word: "L√∂sung" },
            { german: "die Meinung", arabic: "ÿßŸÑÿ±ÿ£Ÿä", article: "die", word: "Meinung" },
            { german: "die Erfahrung", arabic: "ÿßŸÑÿÆÿ®ÿ±ÿ©", article: "die", word: "Erfahrung" }
        ];

        // State
        let currentQuestion = null;
        let selectedArticle = null;
        let correctCount = 0;
        let incorrectCount = 0;
        let totalCount = 0;
        let usedWords = [];
        let correctAnswers = [];
        let incorrectAnswers = [];

        // Elements
        const questionText = document.getElementById('question-text');
        const wordInput = document.getElementById('word-input');
        const checkBtn = document.getElementById('check-btn');
        const checkSection = document.getElementById('check-section');
        const feedbackSection = document.getElementById('feedback-section');
        const feedbackIcon = document.getElementById('feedback-icon');
        const feedbackTitle = document.getElementById('feedback-title');
        const feedbackDetail = document.getElementById('feedback-detail');
        const continueBtn = document.getElementById('continue-btn');
        const progressBar = document.getElementById('progress-bar');
        const correctScoreEl = document.getElementById('correct-score');
        const incorrectScoreEl = document.getElementById('incorrect-score');
        const totalScoreEl = document.getElementById('total-score');
        const articleBtns = document.querySelectorAll('.article-btn');
        const statsBtn = document.getElementById('stats-btn');
        const backBtn = document.getElementById('back-btn');
        const restartBtn = document.getElementById('restart-btn');
        const quizPage = document.getElementById('quiz-page');
        const statsPage = document.getElementById('stats-page');

        // Article Selection
        articleBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                articleBtns.forEach(b => b.classList.remove('selected'));
                btn.classList.add('selected');
                selectedArticle = btn.dataset.article;
                updateCheckButton();
            });
        });

        // Input Handler
        wordInput.addEventListener('input', updateCheckButton);
        wordInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && !checkBtn.disabled) {
                checkAnswer();
            }
        });

        // Update Check Button State
        function updateCheckButton() {
            checkBtn.disabled = !selectedArticle || !wordInput.value.trim();
        }

        // Load Question
        function loadQuestion() {
            if (usedWords.length === vocabulary.length) {
                usedWords = [];
            }

            let availableWords = vocabulary.filter((_, index) => !usedWords.includes(index));
            let randomIndex = Math.floor(Math.random() * availableWords.length);
            currentQuestion = availableWords[randomIndex];
            
            let originalIndex = vocabulary.indexOf(currentQuestion);
            usedWords.push(originalIndex);

            questionText.textContent = currentQuestion.arabic;
            wordInput.value = '';
            wordInput.className = 'word-input';
            selectedArticle = null;
            
            articleBtns.forEach(btn => {
                btn.className = 'article-btn';
            });

            checkSection.style.display = 'block';
            feedbackSection.classList.remove('show', 'correct', 'incorrect');
            
            updateCheckButton();
            updateProgress();
            
            // Focus input
            setTimeout(() => wordInput.focus(), 100);
        }

        // Normalize Text
        function normalizeGerman(text) {
            return text.trim()
                .toLowerCase()
                .replace(/√§/g, 'ae')
                .replace(/√∂/g, 'oe')
                .replace(/√º/g, 'ue')
                .replace(/√ü/g, 'ss');
        }

        // Check Answer
        function checkAnswer() {
            if (!selectedArticle || !wordInput.value.trim()) return;

            const userWord = wordInput.value.trim();
            totalCount++;

            const correctArticle = selectedArticle === currentQuestion.article;
            const correctWord = normalizeGerman(userWord) === normalizeGerman(currentQuestion.word);
            const isCorrect = correctArticle && correctWord;

            // Update UI
            articleBtns.forEach(btn => {
                if (btn.dataset.article === currentQuestion.article) {
                    btn.classList.add('correct');
                } else if (btn.dataset.article === selectedArticle && !correctArticle) {
                    btn.classList.add('incorrect');
                }
            });

            wordInput.className = 'word-input ' + (correctWord ? 'correct' : 'incorrect');

            // Store answer
            const answerRecord = {
                question: currentQuestion,
                userArticle: selectedArticle,
                userWord: userWord,
                correctArticle: correctArticle,
                correctWord: correctWord
            };

            if (isCorrect) {
                correctCount++;
                correctAnswers.push(answerRecord);
                
                feedbackSection.className = 'feedback-section show correct';
                feedbackIcon.className = 'feedback-icon correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.className = 'feedback-title correct';
                feedbackTitle.textContent = 'Ausgezeichnet!';
                feedbackDetail.textContent = currentQuestion.german;
            } else {
                incorrectCount++;
                incorrectAnswers.push(answerRecord);
                
                feedbackSection.className = 'feedback-section show incorrect';
                feedbackIcon.className = 'feedback-icon incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.className = 'feedback-title incorrect';
                feedbackTitle.textContent = 'Nicht ganz richtig';
                
                if (!correctArticle && !correctWord) {
                    feedbackDetail.textContent = 'Richtige Antwort: ' + currentQuestion.german;
                } else if (!correctArticle) {
                    feedbackDetail.textContent = 'Richtiger Artikel: ' + currentQuestion.article;
                } else {
                    feedbackDetail.textContent = 'Richtiges Wort: ' + currentQuestion.word;
                }
            }

            checkSection.style.display = 'none';
            updateScores();
        }

        // Update Scores
        function updateScores() {
            correctScoreEl.textContent = correctCount;
            incorrectScoreEl.textContent = incorrectCount;
            totalScoreEl.textContent = totalCount;
        }

        // Update Progress
        function updateProgress() {
            const percent = (usedWords.length / vocabulary.length) * 100;
            progressBar.style.width = percent + '%';
        }

        // Continue to Next Question
        continueBtn.addEventListener('click', loadQuestion);

        // Show Stats Page
        function showStatsPage() {
            statsPage.classList.add('active');
            quizPage.classList.remove('active');
            updateStatsPage();
        }

        // Show Quiz Page
        function showQuizPage() {
            quizPage.classList.add('active');
            statsPage.classList.remove('active');
        }

        // Update Stats Page
        function updateStatsPage() {
            document.getElementById('stats-correct').textContent = correctCount;
            document.getElementById('stats-incorrect').textContent = incorrectCount;
            document.getElementById('stats-total').textContent = totalCount;
            document.getElementById('correct-count').textContent = correctCount;
            document.getElementById('incorrect-count').textContent = incorrectCount;

            // Correct answers
            const correctList = document.getElementById('correct-list');
            if (correctAnswers.length === 0) {
                correctList.innerHTML = '<div class="empty-state"><div class="empty-icon">üéØ</div><div class="empty-text">Noch keine richtigen Antworten</div></div>';
            } else {
                correctList.innerHTML = correctAnswers.map(a => `
                    <div class="answer-item correct">
                        <div class="answer-word">${a.question.german}</div>
                        <div class="answer-translation">${a.question.arabic}</div>
                        <div class="answer-detail">Deine Antwort: ${a.userArticle} ${a.userWord}</div>
                    </div>
                `).reverse().join('');
            }

            // Incorrect answers
            const incorrectList = document.getElementById('incorrect-list');
            if (incorrectAnswers.length === 0) {
                incorrectList.innerHTML = '<div class="empty-state"><div class="empty-icon">üí™</div><div class="empty-text">Noch keine falschen Antworten</div></div>';
            } else {
                incorrectList.innerHTML = incorrectAnswers.map(a => {
                    let error = '';
                    if (!a.correctArticle && !a.correctWord) {
                        error = `Richtig: ${a.question.german}`;
                    } else if (!a.correctArticle) {
                        error = `Richtiger Artikel: ${a.question.article}`;
                    } else {
                        error = `Richtiges Wort: ${a.question.word}`;
                    }
                    
                    return `
                        <div class="answer-item incorrect">
                            <div class="answer-word">${a.question.german}</div>
                            <div class="answer-translation">${a.question.arabic}</div>
                            <div class="answer-detail">Deine Antwort: ${a.userArticle} ${a.userWord}</div>
                            <div class="answer-detail error">${error}</div>
                        </div>
                    `;
                }).reverse().join('');
            }
        }

        // Restart
        function restart() {
            if (confirm('M√∂chten Sie wirklich neu starten? Alle Statistiken werden gel√∂scht.')) {
                correctCount = 0;
                incorrectCount = 0;
                totalCount = 0;
                usedWords = [];
                correctAnswers = [];
                incorrectAnswers = [];
                updateScores();
                showQuizPage();
                loadQuestion();
            }
        }

        // Event Listeners
        statsBtn.addEventListener('click', showStatsPage);
        backBtn.addEventListener('click', showQuizPage);
        restartBtn.addEventListener('click', restart);
        checkBtn.addEventListener('click', checkAnswer);

        // Initialize
        loadQuestion();
    </script>
</body>
</html>